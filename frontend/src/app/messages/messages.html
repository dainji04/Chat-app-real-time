<div class="container">
  <div class="messages">
    <div class="messages__header">
      <h1 class="messages__header-title">
        Conversations
      </h1>
    </div>
    <ul class="messages__list">
      <li *ngFor="let message of messages">
        <!-- <a class="messages__item" [routerLink]="['/messages', message._id]"> -->
        <button class="messages__item" (click)="selectMessage(message._id)">
          <div style="position: relative;">
            <img [src]="message.avatar" alt="avatar" class="messages__item-avatar">
            <i [ngClass]="{'online': message?.isOnline, 'offline': !message?.isOnline}"
              class="dot fa-solid fa-circle"></i>
          </div>
          <div class="messages__item-content">
            <h3 class="messages__item-sender">{{ message.name }}</h3>
            <p class="messages__item-text">{{ message.lastMessage ?
              message.lastMessage.content.text : 'No message' }}</p>
          </div>
          <div class="messages__item-time">{{ message?.lastMessage?.createdAt | date: 'hh:mm a' }}</div>
        </button>
      </li>
    </ul>
  </div>
  <div #detail class="messages__detail">
    <app-detail-message [id]="selectedMessageId" (closeDetail)="closeDetail()">
    </app-detail-message>
  </div>
</div>